*LaTeX*的数学公式主要有两种，即行内公式（Inline Formulas）和块级公式（Display Formulas）。行内公式内嵌于正文文本中间，与正文文字行高相等；块级公式则单独成行。

在typora中，使用公式需要注意触发，块级公式触发的条件

1. 打出`$$`符号，然后按组合键`ctrl+shift+enter`
2. 在公式框中填写*latex*语法

$$
kong\space string
$$



[TOC]



## 行内公式

用`$...$`符号包围的*LaTeX*代码：

这样的代码可以生成如$x^n+y^n=z^n$这样的行内公式。

## 块级公式

用`$$...$$`符号包围的*LaTeX*代码：

块级公式示例

$$
x^n + y^n = z^n
$$




### 块级公式的编号

（1）通用语法：直接使用块级代码不会生成编号，而使用`\tag{...}`标签就可以生成对应的编号。

typora中编号块级公式如

$$
x^n+y^n=z^n\tag{1.1}
$$


（2）通用语法：除了手动编号之外*LaTeX*还支持对公式的自动编号，对于需要自动编号的公式，需要使用`\begin{equation}...\end{equation}`将代码快包围起来。

typora中自动编号块级公式还需配合设置`开启公式自动编号`可生效

$$
\begin{equation}
x^n+y^n=z^n
\end{equation}
$$


因为自动编号的代码较为复杂，而且不易扩展，所以不太建议使用自动编号，手动编号更易维护（CMDMarkdown也不支持自动编号）。



（3）编号引用

> 编写公式时添加`\label `信息，以标记该公式
>
> 公式引用时候可以用`\eqref{标记名称}`

对于由公式即可得到结论。

$$
a^2+b^2=c^2 \tag{1.2} \label{x1.2}
$$
引用$\eqref{x1.2}$



### 单个公式换行

单个公式很长的时候需要换行，但仅允许生成一个编号时，可以用`split`标签包围公式代码，在需要转行的地方使用`\\`，每行需要使用1个`&`来标识对齐的位置，结束后可使用`\tag{...}`标签编号。

$$
\begin{equation}
\begin{split}a &= b \\c &= d \\e &= f \end{split}\tag{1.3}
\end{equation}
$$




注意：每行只允许出现一个`&`，使用`split`标签后，编号会**上下居中**显示。

### 多行的独立公式

有时候需要罗列多个公式，可以用`eqnarray*`标签包围公式代码，在需要转行的地方使用`\\`，每行需要使用2个`&`来标识对齐位置，两个`&...&`号之间的是公式间对齐的位置，每行公式后可使用`\tag{...}`标签编号：

$$
\begin{eqnarray*}
x^n+y^n &=& z^n \tag{1.4} \\
x+y &=& z \tag{1.5}
\end{eqnarray*}
$$




